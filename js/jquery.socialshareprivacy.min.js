!function(E){"use strict";function i(e){return E('meta[name="'+e+'"]').attr("content")||""}function s(){var e=i("DC.title"),t=i("DC.creator");return 0<e.length&&0<t.length?e+=" - "+t:e=E("title").text(),encodeURIComponent(e)}function a(){var e=document.location.href,t=E("link[rel=canonical]").attr("href");return t&&0<t.length&&(t.indexOf("http")<0&&(t=document.location.protocol+"//"+document.location.host+t),e=t),e}E.fn.socialSharePrivacy=function(e){var t={services:{facebook:{status:"on",dummy_img:"",txt_info:"2 Klicks f&uuml;r mehr Datenschutz: Erst wenn Sie hier klicken, wird der Button aktiv und Sie k&ouml;nnen Ihre Empfehlung an Facebook senden. Schon beim Aktivieren werden Daten an Dritte &uuml;bertragen &ndash; siehe <em>i</em>.",txt_fb_off:"nicht mit Facebook verbunden",txt_fb_on:"mit Facebook verbunden",perma_option:"on",display_name:"Facebook",referrer_track:"",language:"de_DE",action:"recommend",dummy_caption:"Empfehlen"},twitter:{status:"on",dummy_img:"",txt_info:"2 Klicks f&uuml;r mehr Datenschutz: Erst wenn Sie hier klicken, wird der Button aktiv und Sie k&ouml;nnen Ihre Empfehlung an Twitter senden. Schon beim Aktivieren werden Daten an Dritte &uuml;bertragen &ndash; siehe <em>i</em>.",txt_twitter_off:"nicht mit Twitter verbunden",txt_twitter_on:"mit Twitter verbunden",perma_option:"on",display_name:"Twitter",referrer_track:"",tweet_text:s,language:"en",dummy_caption:"Tweet",tweet_via:""},gplus:{status:"on",dummy_img:"",txt_info:"2 Klicks f&uuml;r mehr Datenschutz: Erst wenn Sie hier klicken, wird der Button aktiv und Sie k&ouml;nnen Ihre Empfehlung an Google+ senden. Schon beim Aktivieren werden Daten an Dritte &uuml;bertragen &ndash; siehe <em>i</em>.",txt_gplus_off:"nicht mit Google+ verbunden",txt_gplus_on:"mit Google+ verbunden",perma_option:"on",display_name:"Google+",referrer_track:"",language:"de"}},info_link:"",txt_help:"Wenn Sie diese Felder durch einen Klick aktivieren, werden Informationen an Facebook, Twitter oder Google in die USA &uuml;bertragen und unter Umst&auml;nden auch dort gespeichert.",settings_perma:"Dauerhaft aktivieren und Daten&uuml;ber&shy;tragung zustimmen:",cookie_path:"/",cookie_domain:document.location.host,cookie_expires:"365",css_path:"socialshareprivacy/socialshareprivacy.css",uri:a},S=E.extend(!0,t,e),T="on"===S.services.facebook.status,D="on"===S.services.twitter.status,I="on"===S.services.gplus.status;if(T||D||I)return 0<S.css_path.length&&(document.createStyleSheet?document.createStyleSheet(S.css_path):E("head").append('<link rel="stylesheet" type="text/css" href="'+S.css_path+'" />')),this.each(function(){E(this).prepend('<ul class="social_share_privacy_area"></ul>');var e=E(".social_share_privacy_area",this),t=S.uri;if("function"==typeof t&&(t=t(e)),T){var i,s=encodeURIComponent(t+S.services.facebook.referrer_track),a='<iframe src="http://www.facebook.com/plugins/like.php?locale='+S.services.facebook.language+"&amp;href="+s+"&amp;send=false&amp;layout=button_count&amp;width=120&amp;show_faces=false&amp;action="+S.services.facebook.action+'&amp;colorscheme=light&amp;font&amp;height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:145px; height:21px;" allowTransparency="true"></iframe>';i=S.services.facebook.dummy_img?'<img class="fb_like_privacy_dummy" src="'+S.services.facebook.dummy_img+'" alt="'+S.services.facebook.dummy_caption+'" />':'<div class="fb_like_privacy_dummy"><span>'+S.services.facebook.dummy_caption+"</span></div>",e.append('<li class="facebook help_info"><span class="info">'+S.services.facebook.txt_info+'</span><span class="switch off">'+S.services.facebook.txt_fb_off+'</span><div class="fb_like dummy_btn">'+i+"</div></li>");var n=E("li.facebook",e);e.on("click","li.facebook div.fb_like .fb_like_privacy_dummy,li.facebook span.switch",function(){n.find("span.switch").hasClass("off")?(n.addClass("info_off"),n.find("span.switch").addClass("on").removeClass("off").html(S.services.facebook.txt_fb_on),n.find(".fb_like_privacy_dummy").replaceWith(a)):(n.removeClass("info_off"),n.find("span.switch").addClass("off").removeClass("on").html(S.services.facebook.txt_fb_off),n.find(".fb_like").html(i))})}if(D){var o=S.services.twitter.tweet_text;"function"==typeof o&&(o=o()),o=function(e,t){var i=decodeURIComponent(e);if(i.length<=t)return e;var s=i.substring(0,t-1).lastIndexOf(" ");return i=encodeURIComponent(i.substring(0,s))+"â€¦"}(o,"120");var r="http://platform.twitter.com/widgets/tweet_button.html?url="+encodeURIComponent(t+S.services.twitter.referrer_track)+"&amp;counturl="+encodeURIComponent(t)+"&amp;text="+o+"&amp;count=horizontal&amp;lang="+S.services.twitter.language;""!==S.services.twitter.tweet_via&&(r=r+"&amp;via="+S.services.twitter.tweet_via);var c,l='<iframe allowtransparency="true" frameborder="0" scrolling="no" src="'+r+'" style="width:130px; height:25px;"></iframe>';c=S.services.twitter.dummy_img?'<img class="tweet_this_dummy" src="'+S.services.twitter.dummy_img+'" alt="'+S.services.twitter.dummy_caption+'" />':'<div class="tweet_this_dummy"><span>'+S.services.twitter.dummy_caption+"</span></div>",e.append('<li class="twitter help_info"><span class="info">'+S.services.twitter.txt_info+'</span><span class="switch off">'+S.services.twitter.txt_twitter_off+'</span><div class="tweet dummy_btn">'+c+"</div></li>");var p=E("li.twitter",e);e.on("click","li.twitter .tweet_this_dummy,li.twitter span.switch",function(){p.find("span.switch").hasClass("off")?(p.addClass("info_off"),p.find("span.switch").addClass("on").removeClass("off").html(S.services.twitter.txt_twitter_on),p.find(".tweet_this_dummy").replaceWith(l)):(p.removeClass("info_off"),p.find("span.switch").addClass("off").removeClass("on").html(S.services.twitter.txt_twitter_off),p.find(".tweet").html(c))})}if(I){var f,m='<div class="g-plusone" data-size="medium" data-href="'+(t+S.services.gplus.referrer_track)+'"></div><script type="text/javascript">window.___gcfg = {lang: "'+S.services.gplus.language+'"}; (function() { var po = document.createElement("script"); po.type = "text/javascript"; po.async = true; po.src = "https://apis.google.com/js/plusone.js"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(po, s); })(); <\/script>';f=S.services.gplus.dummy_img?'<img src="'+S.services.gplus.dummy_img+'" alt="+1" class="gplus_one_dummy" />':'<div class="gplus_one_dummy">+1</div>',e.append('<li class="gplus help_info"><span class="info">'+S.services.gplus.txt_info+'</span><span class="switch off">'+S.services.gplus.txt_gplus_off+'</span><div class="gplusone dummy_btn">'+f+"</div></li>");var d=E("li.gplus",e);e.on("click","li.gplus div.gplusone .gplus_one_dummy,li.gplus span.switch",function(){d.find("span.switch").hasClass("off")?(d.addClass("info_off"),d.find("span.switch").addClass("on").removeClass("off").html(S.services.gplus.txt_gplus_on),d.find(".gplus_one_dummy").replaceWith(m)):(d.removeClass("info_off"),d.find("span.switch").addClass("off").removeClass("on").html(S.services.gplus.txt_gplus_off),d.find(".gplusone").html(f))})}""!==S.info_link?e.append('<li class="settings_info"><div class="settings_info_menu off perma_option_off"><a href="'+S.info_link+'"><span class="help_info icon"><span class="info">'+S.txt_help+"</span></span></a></div></li>"):e.append('<li class="settings_info"><div class="settings_info_menu off perma_option_off"><span class="help_info icon"><span class="info">'+S.txt_help+"</span></span></div></li>"),e.on("mouseenter",".help_info:not(.info_off)",function(){var e=E(this),t=window.setTimeout(function(){E(e).addClass("display")},500);E(this).data("timeout_id",t)}),e.on("mouseleave",".help_info",function(){var e=E(this).data("timeout_id");window.clearTimeout(e),E(this).hasClass("display")&&E(this).removeClass("display")});var _,u,h="on"===S.services.facebook.perma_option,v="on"===S.services.twitter.perma_option,g="on"===S.services.gplus.perma_option;if((T&&h||D&&v||I&&g)&&JSON&&JSON.parse){var w=(_=document.cookie,u={},_.split(/[;,] */).forEach(function(e){var t=e.indexOf("=");if(!(t<0)){var i=e.substr(0,t).trim(),s=e.substr(++t,e.length).trim();if('"'==s[0]&&(s=s.slice(1,-1)),void 0===u[i])try{u[i]=decodeURIComponent(s)}catch(e){u[i]=s}}}),u),k=E("li.settings_info",e);k.find(".settings_info_menu").removeClass("perma_option_off"),k.find(".settings_info_menu").append('<span class="settings">Einstellungen</span><form><fieldset><legend>'+S.settings_perma+"</legend></fieldset></form>");var b=' checked="checked"';if(T&&h){var y="perma_on"===w.socialSharePrivacy_facebook?b:"";k.find("form fieldset").append('<input type="checkbox" name="perma_status_facebook" id="perma_status_facebook"'+y+' /><label for="perma_status_facebook">'+S.services.facebook.display_name+"</label>")}if(D&&v){var x="perma_on"===w.socialSharePrivacy_twitter?b:"";k.find("form fieldset").append('<input type="checkbox" name="perma_status_twitter" id="perma_status_twitter"'+x+' /><label for="perma_status_twitter">'+S.services.twitter.display_name+"</label>")}if(I&&g){var C="perma_on"===w.socialSharePrivacy_gplus?b:"";k.find("form fieldset").append('<input type="checkbox" name="perma_status_gplus" id="perma_status_gplus"'+C+' /><label for="perma_status_gplus">'+S.services.gplus.display_name+"</label>")}k.find("span.settings").css("cursor","pointer"),k.on("mouseenter","span.settings",function(){var e=window.setTimeout(function(){k.find(".settings_info_menu").removeClass("off").addClass("on")},500);E(this).data("timeout_id",e)}),k.on("mouseleave",function(){var e=E(this).data("timeout_id");window.clearTimeout(e),k.find(".settings_info_menu").removeClass("on").addClass("off")}),k.on("click","fieldset input",function(e){var t,i,s,a,n,o,r,c,l,p,f,m=e.target.id,d="socialSharePrivacy_"+m.substr(m.lastIndexOf("_")+1,m.length);E(this).is(":checked")?(o=d,r="perma_on",c=S.cookie_expires,l=S.cookie_path,p=S.cookie_domain,(f=new Date).setTime(f.getTime()+24*c*60*60*1e3),document.cookie=o+"="+r+"; expires="+f.toUTCString()+"; path="+l+"; domain="+p,E('.social_share_privacy_area [id="'+m+'"]').prop("checked",!0),E(".social_share_privacy_area label[for="+m+"]").addClass("checked")):(t=d,i="perma_on",s=S.cookie_path,a=S.cookie_domain,(n=new Date).setTime(n.getTime()-100),document.cookie=t+"="+i+"; expires="+n.toUTCString()+"; path="+s+"; domain="+a,E('.social_share_privacy_area [id="'+m+'"]').prop("checked",!1),E(".social_share_privacy_area label[for="+m+"]").removeClass("checked"))}),T&&h&&"perma_on"===w.socialSharePrivacy_facebook&&E("li.facebook span.switch",e).click(),D&&v&&"perma_on"===w.socialSharePrivacy_twitter&&E("li.twitter span.switch",e).click(),I&&g&&"perma_on"===w.socialSharePrivacy_gplus&&E("li.gplus span.switch",e).click()}})}}(jQuery);