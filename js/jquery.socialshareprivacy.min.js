!function(R){"use strict";function i(e){return R('meta[name="'+e+'"]').attr("content")||""}function n(){var e=i("DC.title"),t=i("DC.creator");return 0<e.length&&0<t.length?e+=" - "+t:e=R("title").text(),encodeURIComponent(e)}function s(){var e=document.location.href,t=R("link[rel=canonical]").attr("href");return t&&0<t.length&&(t.indexOf("http")<0&&(t=document.location.protocol+"//"+document.location.host+t),e=t),e}R.fn.socialSharePrivacy=function(e){var t={services:{facebook:{status:"on",dummy_img:"",txt_info:"2 Klicks f&uuml;r mehr Datenschutz: Erst wenn Sie hier klicken, wird der Button aktiv und Sie k&ouml;nnen Ihre Empfehlung an Facebook senden. Schon beim Aktivieren werden Daten an Dritte &uuml;bertragen &ndash; siehe <em>i</em>.",txt_fb_off:"nicht mit Facebook verbunden",txt_fb_on:"mit Facebook verbunden",perma_option:"on",display_name:"Facebook",referrer_track:"",language:"de_DE",action:"like",dummy_caption:"Gefällt mir"},twitter:{status:"on",dummy_img:"",txt_info:"2 Klicks f&uuml;r mehr Datenschutz: Erst wenn Sie hier klicken, wird der Button aktiv und Sie k&ouml;nnen Ihre Empfehlung an Twitter senden. Schon beim Aktivieren werden Daten an Dritte &uuml;bertragen &ndash; siehe <em>i</em>.",txt_twitter_off:"nicht mit Twitter verbunden",txt_twitter_on:"mit Twitter verbunden",perma_option:"on",display_name:"Twitter",referrer_track:"",tweet_text:n,language:"en",dummy_caption:"Tweet",tweet_via:""},gplus:{status:"on",dummy_img:"",txt_info:"2 Klicks f&uuml;r mehr Datenschutz: Erst wenn Sie hier klicken, wird der Button aktiv und Sie k&ouml;nnen Ihre Empfehlung an Google+ senden. Schon beim Aktivieren werden Daten an Dritte &uuml;bertragen &ndash; siehe <em>i</em>.",txt_gplus_off:"nicht mit Google+ verbunden",txt_gplus_on:"mit Google+ verbunden",perma_option:"on",display_name:"Google+",referrer_track:"",language:"de"}},info_link:"",txt_help:"Wenn Sie diese Felder durch einen Klick aktivieren, werden Informationen an Facebook, Twitter oder Google in die USA &uuml;bertragen und unter Umst&auml;nden auch dort gespeichert.",settings_perma:"Dauerhaft aktivieren und Daten&uuml;ber&shy;tragung zustimmen:",cookie_path:"/",cookie_domain:document.location.host,cookie_expires:"365",css_path:"css/socialshareprivacy.min.css",uri:s},E=R.extend(!0,t,e),U="on"===E.services.facebook.status,P="on"===E.services.twitter.status,A="on"===E.services.gplus.status;if(U||P||A)return 0<E.css_path.length&&(document.createStyleSheet?document.createStyleSheet(E.css_path):R("head").append('<link rel="stylesheet" type="text/css" href="'+E.css_path+'" />')),this.each(function(){R(this).prepend('<ul class="social_share_privacy_area"></ul>');var e=R(".social_share_privacy_area",this),t=E.uri;"function"==typeof t&&(t=t(e));var i='<div class="switch off"><input class="switch-input" id="switch" type="checkbox" name="ssp-switch"> <label class="switch-paddle" for="switch"> <span class="show-for-sr" /> </label></div>',n=R(i).clone();n.find("input").attr("id","switch-fb").attr("name","switch-fb"),n.find("label").attr("for","switch-fb"),n.find(".show-for-sr").append(E.services.facebook.txt_fb_off);var s=R(i).clone();s.find("input").attr("id","switch-twitter").attr("name","switch-twitter"),s.find("label").attr("for","switch-twitter"),s.find(".show-for-sr").append(E.services.twitter.txt_twitter_off);var a=R(i).clone();if(a.find("input").attr("id","switch-gplus").attr("name","switch-gplus"),a.find("label").attr("for","switch-gplus"),a.find(".show-for-sr").append(E.services.gplus.txt_gplus_off),U){var o=encodeURIComponent(t+E.services.facebook.referrer_track),r='<iframe src="https://www.facebook.com/plugins/like.php?locale='+E.services.facebook.language+"&amp;href="+o+"&amp;send=false&amp;layout=button_count&amp;width=70&amp;show_faces=false&amp;action="+E.services.facebook.action+'&amp;colorscheme=light&amp;font&amp;height=25" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:145px; height:25px;" allowTransparency="true"></iframe>',c='<button class="button"><i class="icon-facebook"></i> '+E.services.facebook.dummy_caption+" </button>";e.append('<li class="facebook help_info"><span class="info">'+E.services.facebook.txt_info+"</span>"+n[0].outerHTML+'<div class="fb_like dummy_btn">'+c+"</div></div></li>");var l=R("li.facebook",e);e.on("change","li.facebook .switch",function(){R(this).hasClass("off")?(l.addClass("info_off"),l.find(".switch").addClass("on").removeClass("off"),l.find(".show-for-sr").html(E.services.facebook.txt_fb_on),l.find("input").attr("checked","checked"),l.find("button").replaceWith(r)):(l.removeClass("info_off"),l.find(".switch").addClass("off").removeClass("on"),l.find("input").removeAttr("checked"),l.find("show-for-sr").html(E.services.facebook.txt_fb_off),l.find(".fb_like").html(c))}),e.on("click","li.facebook button",function(){e.find("li.facebook .switch").trigger("change")})}if(P){var f=E.services.twitter.tweet_text;"function"==typeof f&&(f=f()),f=function(e,t){var i=decodeURIComponent(e);if(i.length<=t)return e;var n=i.substring(0,t-1).lastIndexOf(" ");return i=encodeURIComponent(i.substring(0,n))+"…"}(f,"120");var p="https://platform.twitter.com/widgets/tweet_button.html?url="+encodeURIComponent(t+E.services.twitter.referrer_track)+"&amp;counturl="+encodeURIComponent(t)+"&amp;text="+f+"&amp;count=horizontal&amp;lang="+E.services.twitter.language;""!==E.services.twitter.tweet_via&&(p=p+"&amp;via="+E.services.twitter.tweet_via);var d='<iframe allowtransparency="true" frameborder="0" scrolling="no" src="'+p+'" style="width:64px; height:25px;"></iframe>',u='<button class="button"><i class="icon-twitter"></i> '+E.services.twitter.dummy_caption+"</button>";e.append('<li class="twitter help_info"><span class="info">'+E.services.twitter.txt_info+"</span>"+s[0].outerHTML+'<div class="tweet dummy_btn">'+u+"</div></li>");var m=R("li.twitter",e);e.on("change","li.twitter .switch",function(){m.find(".switch").hasClass("off")?(m.addClass("info_off"),m.find(".switch").addClass("on").removeClass("off"),m.find(".show-for-sr").html(E.services.twitter.txt_twitter_on),m.find("input").attr("checked","checked"),m.find("button").replaceWith(d)):(m.removeClass("info_off"),m.find(".switch").addClass("off").removeClass("on"),m.find("input").removeAttr("checked"),m.find(".show-for-sr").html(E.services.twitter.txt_twitter_off),m.find(".tweet").html(u))}),e.on("click","li.twitter button",function(){e.find("li.twitter .switch").trigger("change")})}if(A){var h='<div class="g-plusone" data-size="medium" data-href="'+(t+E.services.gplus.referrer_track)+'"></div><script type="text/javascript">window.___gcfg = {lang: "'+E.services.gplus.language+'"}; (function() { var po = document.createElement("script"); po.type = "text/javascript"; po.async = true; po.src = "https://apis.google.com/js/plusone.js"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(po, s); })(); <\/script>',_='<button class="button"><i class="icon-google-plus"></i></button>';e.append('<li class="gplus help_info"><span class="info">'+E.services.gplus.txt_info+"</span>"+a[0].outerHTML+'<div class="gplusone dummy_btn">'+_+"</div></li>");var v=R("li.gplus",e);e.on("change","li.gplus .switch",function(){v.find(".switch").hasClass("off")?(v.addClass("info_off"),v.find(".switch").addClass("on").removeClass("off"),v.find(".show-for-sr").html(E.services.gplus.txt_gplus_on),v.find("input").attr("checked","checked"),v.find("button").replaceWith(h)):(v.removeClass("info_off"),v.find(".switch").addClass("off").removeClass("on"),v.find("input").removeAttr("checked"),v.find(".show-for-sr").html(E.services.gplus.txt_gplus_off),v.find(".gplusone").html(_))}),e.on("click","li.gplus button",function(){e.find("li.gplus .switch").trigger("change")})}""!==E.info_link?e.append('<li class="settings_info"><div class="settings_info_menu off perma_option_off"><a href="'+E.info_link+'"><span class="help_info icon"><span class="info">'+E.txt_help+"</span></span></a></div></li>"):e.append('<li class="settings_info"><div class="settings_info_menu off perma_option_off"><span class="help_info icon"><i class="icon-info"></i><span class="info">'+E.txt_help+"</span></span></div></li>"),e.on("mouseenter",".help_info:not(.info_off)",function(){var e=R(this),t=window.setTimeout(function(){R(e).addClass("display")},500);R(this).data("timeout_id",t)}),e.on("mouseleave",".help_info",function(){var e=R(this).data("timeout_id");window.clearTimeout(e),R(this).hasClass("display")&&R(this).removeClass("display")});var g,w,k="on"===E.services.facebook.perma_option,b="on"===E.services.twitter.perma_option,y="on"===E.services.gplus.perma_option;if((U&&k||P&&b||A&&y)&&JSON&&JSON.parse){var x=(g=document.cookie,w={},g.split(/[;,] */).forEach(function(e){var t=e.indexOf("=");if(!(t<0)){var i=e.substr(0,t).trim(),n=e.substr(++t,e.length).trim();if('"'==n[0]&&(n=n.slice(1,-1)),void 0===w[i])try{w[i]=decodeURIComponent(n)}catch(e){w[i]=n}}}),w),C=R("li.settings_info",e);C.find(".settings_info_menu").removeClass("perma_option_off"),C.find(".settings_info_menu").append('<span class="settings"><i class="icon-cog"></i><span class="show-for-sr">Einstellungen</span></span><form><fieldset><legend>'+E.settings_perma+"</legend></fieldset></form>");var S=' checked="checked"';if(U&&k){var T="perma_on"===x.socialSharePrivacy_facebook?S:"";C.find("form fieldset").append('<input type="checkbox" name="perma_status_facebook" id="perma_status_facebook"'+T+' /><label for="perma_status_facebook">'+E.services.facebook.display_name+"</label>")}if(P&&b){var D="perma_on"===x.socialSharePrivacy_twitter?S:"";C.find("form fieldset").append('<input type="checkbox" name="perma_status_twitter" id="perma_status_twitter"'+D+' /><label for="perma_status_twitter">'+E.services.twitter.display_name+"</label>")}if(A&&y){var I="perma_on"===x.socialSharePrivacy_gplus?S:"";C.find("form fieldset").append('<input type="checkbox" name="perma_status_gplus" id="perma_status_gplus"'+I+' /><label for="perma_status_gplus">'+E.services.gplus.display_name+"</label>")}C.find("span.settings").css("cursor","pointer"),C.on("mouseenter","span.settings",function(){var e=window.setTimeout(function(){C.find(".settings_info_menu").removeClass("off").addClass("on")},500);R(this).data("timeout_id",e)}),C.on("mouseleave",function(){var e=R(this).data("timeout_id");window.clearTimeout(e),C.find(".settings_info_menu").removeClass("on").addClass("off")}),C.on("click","fieldset input",function(e){var t,i,n,s,a,o,r,c,l,f,p,d=e.target.id,u="socialSharePrivacy_"+d.substr(d.lastIndexOf("_")+1,d.length);R(this).is(":checked")?(o=u,r="perma_on",c=E.cookie_expires,l=E.cookie_path,f=E.cookie_domain,(p=new Date).setTime(p.getTime()+24*c*60*60*1e3),document.cookie=o+"="+r+"; expires="+p.toUTCString()+"; path="+l+"; domain="+f,R('.social_share_privacy_area [id="'+d+'"]').prop("checked",!0),R(".social_share_privacy_area label[for="+d+"]").addClass("checked")):(t=u,i="perma_on",n=E.cookie_path,s=E.cookie_domain,(a=new Date).setTime(a.getTime()-100),document.cookie=t+"="+i+"; expires="+a.toUTCString()+"; path="+n+"; domain="+s,R('.social_share_privacy_area [id="'+d+'"]').prop("checked",!1),R(".social_share_privacy_area label[for="+d+"]").removeClass("checked"))}),U&&k&&"perma_on"===x.socialSharePrivacy_facebook&&R("li.facebook .switch",e).trigger("change"),P&&b&&"perma_on"===x.socialSharePrivacy_twitter&&R("li.twitter .switch",e).trigger("change"),A&&y&&"perma_on"===x.socialSharePrivacy_gplus&&R("li.gplus .switch",e).trigger("change")}})}}(jQuery);